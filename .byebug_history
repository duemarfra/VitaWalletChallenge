c
self.amount_sent
self.is_buy
salf.is_buy
c
transaction = Transaction.create!(
        user: @current_user,
        is_buy: is_buy,
        amount_sent: amount_sent,
        amount_received: amount_received
      )
is_buy.class
is_buy
is_buy.type
is_buy
c
is_buy
c
transaction = Transaction.create!(
        user: @current_user,
        is_buy: is_buy,
        amount_sent: amount_sent,
        amount_received: amount_received
      )
@current_user.btc_balance < amount_sent
@current_user.usd_balance < amount_sent
is_buy
!is_buy
is_buy == false
is_buy == 'false'
is_buy == true
is_buy
c
balance()
balance
c
amount
currency
@current_user
c
params[:currency]
currency
c
params[:id]
currency_permitted.include?(currency)
currency
params[:currency]
c
params[:currency]
currency
currency_permitted.include?(currency)
currency_permitted
